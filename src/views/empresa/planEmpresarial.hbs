<link rel="stylesheet" href="../css/estilosAnalisis.css">
<!--**********************************
        Content body start
***********************************-->
<div class="content-body">
  <!-- row -->
  <div class="container-fluid">
    {{!-- MENSAJES INFORMATIVOS DE LA 1ERA FILA --}}
    <div class="row">
      <div class="col-md-12 col-xl-6 col-xxl-6">
        <div class="card avtivity-card"
          style="background: transparent !important;border: none !important; box-shadow: none !important">
          <div class="card-body">
            <h2 style="color: #000; font-weight: bold;">Realicemos tu plan empresarial</h2>
            <p style="text-align: justify;margin-top: 2em;color: #000">Lorem ipsum dolor sit amet consectetur adipisicing elit Quod dolore assumenda.</p>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-xl-6 col-xxl-6">
        <div class="card avtivity-card"
          style="background: transparent !important;border: none !important; box-shadow: none !important">
          {{!-- <div class="card-body">
            <h2 style="color: #000; font-weight: bold;">Tu pago ha sido recibido</h2>
            <p style="text-align: justify;margin-top: 2em;color: #000">Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque optio fuga, ex consequuntur quia illum sint eveniet minima repudiandae veritatis omnis corporis rerum, alias aliquid aliquam provident tenetur id voluptatem.</p>
          </div> --}}
        </div>
      </div>
    </div>
    {{!-- Fin de la 1era fila --}}

    <div class="row">
      <div class="col-xl-6 col-xxl-6">
        <h2>Lorem ipsum dolor sit amet</h2>
      </div>

      {{!-- CARGA DE ARCHIVOS --}}
      <input type="hidden" id="idEmpresa" value="{{id_empresa}}">
      <div class="col-xl-6 col-xxl-6">
        {{#if archivos}}
        <div class="row">
          <div class="col-xl-12">
            <div class="card">
              <div class="card-header">
                <h4 class="card-title">Carga de archivos</h4>
              </div>

              <div class="card-body">
                <div class="row">
                  <div class="table-responsive">
                    <table class="table table-responsive-md text-center">
                      <thead>
                        <tr>
                          <th>DIMENSIÓN</th>
                          <th>DESCRIPCIÓN</th>
                          <th>ESTADO</th>
                          <th>ACCIÓN</th>
                        </tr>
                      </thead>
                      <tbody>
                        {{#each archivos}}
                        <tr>
                          <td>{{dimension}}</td>
                          <td>{{descripcion}}</td>
                          <td><span id="spanEstado{{id}}" class="badge light badge-{{color}}">{{estado}}</span></td>
                          <td>
                            <table border="0" cellspacing="0" style="margin: 0 auto;">
                              <tr>
                                <td style="border-color: transparent; padding:3px">
                                  <label for="inputArchivo{{id}}" onclick="cargarArchivos_Empresa('archivos_empresarial', '{{id}}')">
                                    <div class="btn color_primary shadow btn-xs sharp mr-1 text-white" style="border-color: white;">
                                      <i class="fa fa-upload"></i>
                                    </div>
                                  </label>
                                  <input id="inputArchivo{{id}}" type="file" style="display:none"/>
                                </td>
                                <td style="border-color: transparent; padding:3px">
                                  <a id="btnVer{{id}}" href="{{link}}"
                                    style="display: {{display}}; margin: 0 auto; margin-top: -8px; border-color: #FED061"
                                    target="_blank" class="btn color_tertiary shadow btn-xs sharp text-white">
                                    <i class="fa fa-search"></i></a>
                                </td>
                              </tr>
                            </table>
                          </td>
                        </tr>
                        {{/each}}
                      </tbody>
                    </table>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
        {{/if}}
      </div>
      {{!-- FIN COLUMNAS - IZQUIERDA DERECHA --}}
      
      {{!-- CREAR Y LISTAR TAREAS --}}
      <div class="col-xl-12 mt-2">
        <div class="card plan-list">
          <div class="card-header d-sm-flex flex-wrap d-block pb-0 border-0">
            <div class="mr-auto pr-3 mb-3">
              <h4 class="text-black fs-20">Lista de Tareas</h4>
              <p class="fs-13 mb-0 text-black">Haz clic en una tarea para verla</p>
            </div>
            <div class="card-action card-tabs mr-4 mt-3 mt-sm-0 mb-3">
              <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                  <a class="nav-link tabs-Task active" data-toggle="tab" href="#Pendientes" role="tab"
                    aria-selected="true">Pendientes ({{tareas.pendientes.cant}})</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link tabs-Task" data-toggle="tab" href="#EnProceso" role="tab">En Proceso
                    ({{tareas.enProceso.cant}})</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link tabs-Task" data-toggle="tab" href="#Completadas" role="tab">Completadas
                    ({{tareas.completadas.cant}})</a>
                </li>
              </ul>
            </div>
      
          </div>
      
          <div class="card-body tab-content pt-2">
            {{!-- TAREAS PENDIENTES --}}
            <div class="tab-pane active show fade" id="Pendientes">
              {{#if tareas.pendientes}}
              {{#each tareas.pendientes}}
              <div class="d-flex border-bottom flex-wrap pt-3 list-row align-items-center mb-2">
                <div class="col-xl-5 col-xxl-6 col-lg-6 col-sm-8 d-flex align-items-center">
                  <div class="list-icon bgl-primary mr-3 mb-3">
                    <p class="fs-24 text-secondary mb-0 mt-2">{{dia}}</p>
                    <span class="fs-14 text-secondary">{{mes}}</span>
                  </div>
                  <div class="info mb-3">
                    <h4 onclick="verTareaEmpresarial({{id}})" class="fs-20"><span class="text-black">{{actividad}}</span></h4>
                    <span class="text-{{color}} font-w600">{{estado}}</span>
                    {{!-- TIEMPO --}}
                    <span class="badge light"
                      style="background: linear-gradient(189.55deg, #FED061 -131.52%, #812082 -11.9%, #50368C 129.46%); color: #fff; padding: 4px 14px;    padding-left: 7px;">
                      <i class="fa-regular fa-clock pr-2"></i> {{tiempo}}</span>
                    {{!-- PRIORIDAD --}}
                    <span>Prioridad: {{prioridad}}</span>
                  </div>
                </div>
                <div class="col-xl-4 col-xxl-2 col-lg-3 col-sm-12 d-flex align-items-center">
                  <a onclick="verTareaEmpresarial('{{id}}')" class="btn mb-3 play-button rounded mr-3">
                    <i class="fa-regular fa-eye"></i> Ver Detalles
                  </a>
                </div>
              </div>
              {{/each}}
              {{else}}
              <div class="card-body px-0" style=" display: flex; justify-content: center; align-items: center;">
                <label style="font-size:22px;color:#000;font-weight:600;margin-bottom: 20px;">No
                  hay tareas pendientes</label>
              </div>
              {{/if}}
            </div>
      
            {{!-- TAREAS EN PROCESO --}}
            <div class="tab-pane fade" id="EnProceso">
              {{#if tareas.enProceso}}
              {{#each tareas.enProceso}}
              <div class="d-flex border-bottom flex-wrap pt-3 list-row align-items-center mb-2">
                <div class="col-xl-5 col-xxl-8 col-lg-6 col-sm-8 d-flex align-items-center">
                  <div class="list-icon bgl-primary mr-3 mb-3">
                    <p class="fs-24 text-secondary mb-0 mt-2">{{dia}}</p>
                    <span class="fs-14 text-secondary">{{mes}}</span>
                  </div>
                  <div class="info mb-3">
                    <h4 onclick="verTareaEmpresarial({{id}})" class="fs-20"><span class="text-black">{{actividad}}</span></h4>
                    <span class="text-{{color}} font-w600">{{estado}}</span>
                    {{!-- TIEMPO --}}
                    <span class="badge light badge-success"
                      style="background: linear-gradient(189.55deg, #FED061 -131.52%, #812082 -11.9%, #50368C 129.46%); color: #fff; padding: 4px 14px;    padding-left: 7px;"><i
                        class="fa-regular fa-clock pr-2"></i> {{tiempo}}</span>
                    {{!-- PRIORIDAD --}}
                    <span>Prioridad: {{prioridad}}</span>
                  </div>
                </div>
                <div class="col-xl-4 col-xxl-12 col-lg-3 col-sm-12 d-flex align-items-center">
                  <a onclick="verTareaEmpresarial({{id}})" class="btn mb-3 play-button rounded mr-3">
                    <i class="fa-regular fa-eye"></i> Ver Detalles
                  </a>
                </div>
              </div>
              {{/each}}
              {{else}}
              <div class="card-body px-0" style=" display: flex; justify-content: center; align-items: center;">
                <label style="font-size:22px;color:#000;font-weight:600;margin-bottom: 20px;">No
                  hay tareas en proceso</label>
              </div>
              {{/if}}
            </div>
      
            {{!-- TAREAS COMPLETADAS --}}
            <div class="tab-pane fade" id="Completadas">
              {{#if tareas.completadas}}
              {{#each tareas.completadas}}
              <div class="d-flex border-bottom flex-wrap pt-3 list-row align-items-center mb-2">
                <div class="col-xl-5 col-xxl-8 col-lg-6 col-sm-8 d-flex align-items-center">
                  <div class="list-icon bgl-primary mr-3 mb-3">
                    <p class="fs-24 text-secondary mb-0 mt-2">{{dia}}</p>
                    <span class="fs-14 text-secondary">{{mes}}</span>
                  </div>
                  <div class="info mb-3">
                    <h4 onclick="verTareaEmpresarial({{id}})" class="fs-20"><span class="text-black">{{actividad}}</span></h4>
                    <span class="text-{{color}} font-w600">{{estado}}</span>
                  </div>
                </div>
                <div class="col-xl-4 col-xxl-12 col-lg-3 col-sm-12 d-flex align-items-center">
                  <a onclick="verTareaEmpresarial({{id}})" class="btn mb-3 play-button rounded mr-3">
                    <i class="fa-regular fa-eye"></i> Ver Detalles
                  </a>
                </div>
              </div>
              {{/each}}
              {{else}}
              <div class="card-body px-0" style=" display: flex; justify-content: center; align-items: center;">
                <label style="font-size:22px;color:#000;font-weight:600;margin-bottom: 20px;">Aún
                  no hay tareas completadas</label>
              </div>
              {{/if}}
            </div>
      
            {{!-- TODAS LAS TAREAS --}}
            <div class="tab-pane fade" id="Todas">
              {{#each tareas.todas}}
              <div class="d-flex border-bottom flex-wrap pt-3 list-row align-items-center mb-2">
                <div class="col-xl-5 col-xxl-8 col-lg-6 col-sm-8 d-flex align-items-center">
                  <div class="list-icon bgl-primary mr-3 mb-3">
                    <p class="fs-24 text-secondary mb-0 mt-2">{{dia}}</p>
                    <span class="fs-14 text-secondary">{{mes}}</span>
                  </div>
                  <div class="info mb-3">
                    <h4 onclick="verTareaEmpresarial({{id}})" class="fs-20"><span class="text-black">{{actividad}}</span></h4>
                    <span class="text-{{color}} font-w600">{{estado}}</span>
                    {{!-- TIEMPO --}}
                    {{#unless tareaOk}}
                    <span class="badge light badge-success"
                      style="background: linear-gradient(189.55deg, #FED061 -131.52%, #812082 -11.9%, #50368C 129.46%); color: #fff; padding: 4px 14px;    padding-left: 7px;"><i
                        class="fa-regular fa-clock pr-2"></i> {{tiempo}}</span>
                    {{!-- PRIORIDAD --}}
                    <span class="badge light badge-success">Prioridad: {{prioridad}}</span>
                    {{/unless}}
                  </div>
                </div>
                <div class="col-xl-4 col-xxl-12 col-lg-3 col-sm-12 d-flex align-items-center">
                  <a onclick="verTareaEmpresarial({{id}})" class="btn mb-3 play-button rounded mr-3">
                    <i class="fa-regular fa-eye"></i> Ver Detalles
                  </a>
                </div>
              </div>
              {{/each}}
            </div>
          </div>
      
        </div>
      </div>

    </div>
    
  </div>
</div>

{{> general/mostrarTarea}}
{{> general/sidebarEmpresarial}}

<script>
  document.addEventListener("DOMContentLoaded", () => {
    {{#unless tutoriales.etapa}}
    //POPUP CON TUTORIAL
    Swal.fire({
      title: '<strong>HTML <u>example</u></strong>',
      icon: 'info',
      html: 'You can use <b>bold text</b>, ' +
          '<a href="//sweetalert2.github.io">links</a> ' +
          'and other HTML tags',
      showCloseButton: true,
      showCancelButton: true,
      focusConfirm: false,
      confirmButtonText: '<i class="fa fa-thumbs-up"></i> Great!',
      confirmButtonAriaLabel: 'Thumbs up, great!',
      cancelButtonText: '<i class="fa fa-thumbs-down"></i>',
      cancelButtonAriaLabel: 'Thumbs down'
    })
    {{/unless}}

    $("#close-sidebar-empresarial").on("click", () => {
      $("#sidebarEmpresarial").removeClass("active")
      // PLAN EMPRESARIAL
      $('#cuerpoGeneral').css('overflow-y', 'auto')
      $('#actividad-sidebar1').attr('readonly', false)
      $("#descripcion-sidebar1").attr({'readonly': false, 'placeholder': 'Escribe una descripción detallada u observación para esta tarea..'})
      $("#estado1").css('display', 'inline-block')
      $('#txtFechaIni1').css('display', 'none')
      $('#txtFechaFin1').css('display', 'none')
      $('#estado-sidebar1').css('display', 'none')
      $('#fechaIni-sidebar1').css('display', 'inline-block')
      $('#fechaFin-sidebar1').css('display', 'inline-block')
      $('#btnGuardar-sidebar1').css('display', 'flex')
    })
  });
</script>